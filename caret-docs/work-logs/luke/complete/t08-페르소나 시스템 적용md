# T08 - í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ì ìš© ì‘ì—… (Optional Feature)

##  í˜„ ë¬¸ì œ ìƒí™©
 í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œì€ caret-main í”„ë¡œì íŠ¸ì—ì„œ ì˜ëª» ê°€ì ¸ì™”ë‹¤ê°€ caret-compare í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ì‹œ ê°€ì ¸ì™”ë‹¤ê°€ ë¬¸ì œê°€ ìƒê²¨ìˆìŒ. 
 caret-compare í”„ë¡œì íŠ¸ëŠ” ì™„ì „í•œ ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë‚˜, assets í´ë”ì— ì´ë¯¸ì§€ì™€ ë¦¬ì†ŒìŠ¤ íŒŒì¼ì´ ìˆëŠ”êµ¬ì¡°ê³ , ìš°ë¦¬ í”„ë¡œì íŠ¸ëŠ” assets í´ë”ì— ì´ë¯¸ì§€ì™€ ë¦¬ì†ŒìŠ¤ íŒŒì¼ì´ ìˆëŠ”êµ¬ì¡°ë¡œ ì°¨ì´ê°€ ìˆê³ , ì˜µì…˜ìœ¼ë¡œ í˜ë¥´ì†Œë‚˜ë¥¼ ëŒìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ìš”êµ¬í•¨
 ë”°ë¼ì„œ ì•„ë˜ì˜ ë¬¸ì œë“¤ì€ í˜„ì¬ í”„ë¡œì íŠ¸ì˜ ë¬¸ì œë¡œì„œ ì‹ ê·œ ì˜µì…˜ê¸°ëŠ¥ì˜ ì˜¤ë¥˜ì™€ ë¨¸ì§•ì˜ ë¯¸êµ¬í˜„ê³¼ ì˜ëª» êµ¬í˜„ëœ ê¸°ëŠ¥ì´ ìˆëŠ”ê²ƒìœ¼ë¡œ íŒë‹¨ë¨. ì•„ë˜ì˜ í˜„ ë¬¸ì œ ìƒí™©ì„ íŒŒì•…í›„, ëŒ€ì±…ì„ ì„¸ì›Œ ë³¸ ë¬¸ì„œì— ê¸°ì…í•˜ê³  ë¬¸ì œë³„ë¡œ ì›ì¸ì„ íŒŒì•…í•˜ê³  ì‘ì—…ì„ ì‹œì‘í•´ì•¼í•¨

1. í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ì˜¤ë¥˜
  1.1. (ì‹ ê·œ ìš”êµ¬ ìŠ¤íŒ© ë° ì˜¤ë¥˜) ì´ë²ˆì—” ì„¤ì •ì— í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…Œ í™œì„±í™” ë²„íŠ¼ ì €ì¥ ë¶ˆê°€
    -  ì´ ë²„íŠ¼ì˜ flagì— ë”°ë¼ í˜ë¥´ì†Œë‚˜ì˜ ëª¨ë“  UIì‹œìŠ¤í…œì´ ì„ íƒì  ëœë”ë§ ë˜ì–´ì•¼í•¨, í˜„ì¬ëŠ” í† ê¸€ì„ ë„ê³  ì €ì¥í•´ë„ ë‹¤ì‹œ ë“¤ì–´ê°€ë©´ ì¼œì ¸ ìˆìŒ. ìºëŸ¿ì „ì—­ë³€ìˆ˜ì— ì œëŒ€ë¡œ ì €ì¥ì´ ë˜ëŠ”ì§€ í™•ì¸ í•„ìš”

 1.2. ê¸°ì¡´ ê¸°ëŠ¥ ë¨¸ì§•í›„ ì˜¤ë¥˜
  caret-main ë°©ì‹ì„ ë¨¸ì§•í•˜ë‹¤ê°€, ì‹¤ìˆ˜í•¨. caret-compare ë°©ì‹ìœ¼ë¡œ ë‹¤ì‹œ ë¨¸ì§•í•˜ì˜€ëŠ”ë° ì´ì—ëŒ€í•œ ì‚¬ì´ë“œì´í™íŠ¸ë¡œë„ ì¶”ì •ë¨, caret-protosì˜ enum ì œëŒ€ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ë„ í™•ì¸í• ê²ƒ
    1) 1.1. í”Œë˜ê·¸ì— ë”°ë¼ ì„ íƒì  ëœë”ë§í• ê²ƒ : ë¯¸êµ¬í˜„
    2) í˜ë¥´ì†Œë‚˜ ê´€ë¦¬ì˜ ì„¤ì •ëœ ê¸°ë³¸ ì´ë¯¸ì§€ ì—‘ìŠ¤ë°•ìŠ¤ë¡œ ë³´ì„ ì—ëŸ¬
         * ì°¸ê³  : ì—…ë¡œë“œ ì´ë¯¸ì§€ ë„£ìœ¼ë©´ ì •ìƒìœ¼ë¡œ ë³´ì„
    3) í˜ë¥´ì†Œë‚˜ í…œí”Œë¦¿ ì°½ ì˜¤ë¥˜ë“¤ ì—ëŸ¬
      - ëª¨ë‹¬ ì°½ì˜ ëª¨ë“  ì´ë¯¸ì§€ ì•ˆë‚˜ì˜´
       * assetsì— ì´ë¯¸ì§€ ì ‘ê·¼ì„ ì œëŒ€ë¡œ ëª»í•˜ê³  ìˆëŠ” ê²ƒìœ¼ë¡œ ì¶”ì •ë¨      
     * caret-compareì™€ ì½”ë“œ ë¹„êµí•˜ê³ , ê°œë°œê°€ì´ë“œì— base64ë°©ì‹ì˜ ì´ë¯¸ì§€ íŒŒì¼ ì ‘ê·¼ ë°©ë²• í™•ì¸ 
         (caret-mergeëŠ” ê²½ë¡œê°€ assets ì—ì„œ assetsë¡œ ë°”ê¾¸ì—ˆìŒ * ê²½ë¡œ ë¬¸ì œì¸ì§€ ë°›ì•„ì˜¤ëŠ” ë°©ë²•ì˜ ë¬¸ì œì¸ì§€ í™•ì¸)
      * ê¸°ë³¸ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œë¡œ ë³€ê²½ì‹œ ì²«ë²ˆì§¸ ì´ë¯¸ì§€ê°€ ë³€ê²½ë˜ì–´ë²„ë¦¼ - ì´ê±´ ëª¨ë‹¬ì°½ì˜ ì´ë¯¸ì§€íŒ¨ìŠ¤ê°€ template_characters ëˆ„ë½ì´ ì•„ë‹Œê°€ ì˜ì‹¬ë¨
      * 'ì„ íƒ' ë²„íŠ¼ ëˆŒëŸ¬ë„ ëª¨ë‹¬ ì°½ì´ ì•ˆë‹«í˜. xë¡œ ë‹«ìœ¼ë©´ ë‹´í˜ : ì œëŒ€ë¡œ ì €ì¥ í”„ë¡œì„¸ìŠ¤ê°€ ë˜ì–´ìˆëŠ”ì§€ í™•ì¸ í•„ìš”

    4) ì•„ë˜ì˜ ì—ëŸ¬ ë¡œê·¸ ë°œê²¬ :í™•ì¸í•  ê²ƒ ì—ëŸ¬

 --- ì•„ë˜ì˜ ë¡œê·¸ ìˆìŒ í™•ì¸ í•„ìš” 
Protobus error: Error: Unknown service: caret.PersonaService
    at getHandler (d:\dev\caret-merging\src\core\controller\grpc-handler.ts:159:9)
    at handleUnaryRequest (d:\dev\caret-merging\src\core\controller\grpc-handler.ts:45:19)
    at handleGrpcRequest (d:\dev\caret-merging\src\core\controller\grpc-handler.ts:29:9)
    at _VscodeWebviewProvider.handleWebviewMessage (d:\dev\caret-merging\src\hosts\vscode\VscodeWebviewProvider.ts:194:12)
    at Jh.value (d:\dev\caret-merging\src\hosts\vscode\VscodeWebviewProvider.ts:175:10)
    at $.C (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:27:2373)
    at $.fire (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:27:2591)
    at tV.$onMessage (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:140:92319)
    at C4.S (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:29:119615)
    at C4.Q (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:29:119395)
    at C4.M (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:29:118484)
    at C4.L (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:29:117722)
    at Jh.value (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:29:116386)
    at $.C (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:27:2373)
    at $.fire (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:27:2591)
    at fo.fire (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:29:9458)
    at Jh.value (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:388:8361)
    at $.C (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:27:2373)
    at $.fire (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:27:2591)
    at fo.fire (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:29:9458)
    at MessagePortMain.<anonymous> (file:///c:/Users/luke/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/workbench/api/node/extensionHostProcess.js:388:6653)
    at MessagePortMain.emit (node:events:518:28)
    at Object.MessagePortMain._internalPort.emit (node:electron/js2c/utility_init:2:2949)
    at Object.callbackTrampoline (node:internal/async_hooks:130:17)


 5) ChatRowì— ì„¤ì •í•œ í˜ë¥´ì†Œë‚˜ ì´ë¯¸ì§€ ë‚˜ì˜¤ì§€ ì•ŠìŒ : caret-compare ì†ŒìŠ¤ ë¹„êµí•˜ì—¬ ìµœì†Œì¹¨ìŠµìœ¼ë¡œ ì‚½ì… í• ê²ƒ, ìœ„ì˜ 1.1. í”Œë˜ê·¸ì— ë”°ë¼ ì„ íƒì  ëœë”ë§í• ê²ƒ
   


## ğŸ¯ **í•µì‹¬ ìš”êµ¬ì‚¬í•­**

### **1. ì˜µì…˜ ê¸°ëŠ¥ìœ¼ë¡œ ì„¤ê³„ (Cline ìµœì†Œ ì¹¨ìŠµ ì¤€ìˆ˜)**
- âœ… **Caret ê¸°ë³¸ê°’**: `enablePersonaSystem: true` (Caret ëª¨ë“œì—ì„œ í™œì„±í™”)
- âœ… **Cline ê¸°ë³¸ê°’**: `enablePersonaSystem: false` (Cline ëª¨ë“œì—ì„œ ë¹„í™œì„±í™”)
- âœ… **B2B ë¸Œëœë“œ ì œì™¸**: CodeCenter ë“± B2B ë¸Œëœë“œëŠ” ì™„ì „íˆ ì œì™¸ ê°€ëŠ¥
- âœ… **ì„¤ì • ìœ„ì¹˜**: Caret/Cline ëª¨ë“œ ì„¤ì • ì„¹ì…˜ ë°”ë¡œ ì•„ë˜

### **2. Cline ìµœì†Œ ì¹¨ìŠµ ì›ì¹™**
- âœ… **í•˜ë“œì½”ë”© ê¸ˆì§€**: ëª¨ë“  ì„¤ì •ì€ ë™ì  êµ¬ì„±
- âœ… **CARET MODIFICATION ì£¼ì„**: ëª¨ë“  ìˆ˜ì • ë¶€ë¶„ì— ëª…ì‹œ
- âœ… **ë‹¤êµ­ì–´ ì§€ì›**: ëª¨ë“  UI í…ìŠ¤íŠ¸ i18n ì ìš©
- âœ… **ì ì§„ì  ê¸°ëŠ¥ ì¶”ê°€**: ê¸°ì¡´ ê¸°ëŠ¥ì— ì˜í–¥ ì—†ì´ ì¶”ê°€

### **3. caret-compare ê¸°ì¤€ êµ¬í˜„**
- âœ… **ì°¸ì¡° ì†ŒìŠ¤**: `caret-compare` í”„ë¡œì íŠ¸ì˜ ì™„ì „ êµ¬í˜„ëœ í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ
- âœ… **ì•„í‚¤í…ì²˜**: í•˜ì´ë¸Œë¦¬ë“œ íŒ¨í„´ v3.1 (CaretProviderWrapper ê¸°ë°˜)
- âœ… **ê²€ì¦ëœ ê¸°ëŠ¥**: CSP í˜¸í™˜, gRPC í†µì‹ , ì‹¤ì‹œê°„ ì´ë¯¸ì§€ ë™ê¸°í™”

## ê¸°ëŠ¥ ê°œìš”
- **ëª©ì **: ì‚¬ì „ ì •ì˜ëœ AI ìºë¦­í„° í˜ë¥´ì†Œë‚˜ë¥¼ ì„ íƒí•˜ì—¬ AIì™€ì˜ ìƒí˜¸ì‘ìš©ì„ ê°œì¸í™”
- **í˜„ì¬ ìƒíƒœ**: ğŸ”„ **ì„¤ê³„ ë‹¨ê³„** (caret-compareì—ì„œ ì™„ì „ êµ¬í˜„ ì™„ë£Œ)
- **ìš°ì„ ìˆœìœ„**: MEDIUM - ì‚¬ìš©ì ê²½í—˜ ê°œì„ , ì°¨ë³„í™” ìš”ì†Œ

## ì£¼ìš” êµ¬ì„± ìš”ì†Œ

### ì§€ì› í˜ë¥´ì†Œë‚˜

| í˜ë¥´ì†Œë‚˜                             | ì»¨ì…‰            | íŠ¹ì„±                     | ì „ë¬¸ ë¶„ì•¼                    |
| ------------------------------------ | --------------- | ------------------------ | ---------------------------- |
| **ğŸ¤– ìºëŸ¿ (Caret)**                  | ì½”ë”© ë¡œë´‡       | ì¹œê·¼í•˜ê³  ë„ì›€ë˜ëŠ” ì¡°ìˆ˜   | ê°œë°œì ì§€ì›, ë¬¸ì œ í•´ê²°       |
| **ğŸ¤ ì˜¤ì‚¬ë‘ (Oh Sarang)**            | K-pop ì•„ì´ëŒ    | ìˆ˜í•™ì  ê°ì • ë¶„ì„, ì¸¤ë°ë ˆ | ë°ì´í„° ë¶„ì„, ì°½ì˜ì  ë¬¸ì œí•´ê²° |
| **ğŸ’» ë§ˆë„ë²  ì´ì¹˜ì¹´ (Madobe Ichika)** | Windows 11 ê¸°ë°˜ | ê¹”ë”í•˜ê³  ë¯¿ìŒì§í•œ ì¡°ìˆ˜   | ì‹œìŠ¤í…œ ê´€ë¦¬, êµ¬ì¡°í™”ëœ ê°œë°œ   |
| **ğŸ ì‚¬ì´ì•ˆ ë§¤í‚¨ (Cyan Mackin)**     | macOS ê¸°ë°˜      | ë¯¸ë‹ˆë©€í•˜ê³  íš¨ìœ¨ì         | UI/UX, í´ë¦° ì½”ë“œ, ë””ìì¸     |
| **ğŸ§ íƒ„ë„ ìš°ë¶„íˆ¬ (Thando Ubuntu)**   | Ubuntu ê¸°ë°˜     | ì˜¤í”ˆì†ŒìŠ¤ ì •ì‹ , í˜‘ì—… ì¤‘ì‹¬ | Linux ì‹œìŠ¤í…œ, ì˜¤í”ˆì†ŒìŠ¤ ê°œë°œ  |

### í•µì‹¬ ê¸°ëŠ¥
- **í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ í‘œì‹œ**: ëª¨ë“  AI ì‘ë‹µì— ì„ íƒëœ í˜ë¥´ì†Œë‚˜ì˜ ì•„ë°”íƒ€ í‘œì‹œ
- **ì‹¤ì‹œê°„ ì´ë¯¸ì§€ ë³€í™˜**: CSP í˜¸í™˜ Base64 ë³€í™˜ì„ í†µí•œ ì•ˆì „í•œ ì´ë¯¸ì§€ ë¡œë”©
- **ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ì—…ë¡œë“œ**: ì‚¬ìš©ìê°€ ì¼ë°˜/ìƒê°ì¤‘ ì´ë¯¸ì§€ë¥¼ ê°œë³„ì ìœ¼ë¡œ ì—…ë¡œë“œ ê°€ëŠ¥
- **íƒ­ ê¸°ë°˜ ì„ íƒ UI**: ì§ê´€ì ì¸ í˜ë¥´ì†Œë‚˜ í…œí”Œë¦¿ ì„ íƒ ì¸í„°í˜ì´ìŠ¤
- **ë‹¤êµ­ì–´ ì§€ì›**: í•œêµ­ì–´/ì˜ì–´ í˜ë¥´ì†Œë‚˜ ì„¤ëª… ë° UI
- **ì±„íŒ… í†µí•©**: AI í…ìŠ¤íŠ¸ ë° ì¶”ë¡  ì‘ë‹µì— í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ í‘œì‹œ

## ì°¨ë³„í™” í¬ì¸íŠ¸
- **ì™„ì „í•œ Cline ì´ˆê¸°í™” í™œìš©**: ë˜í¼ íŒ¨í„´ìœ¼ë¡œ ëª¨ë“  í•„ìˆ˜ ì„œë¹„ìŠ¤ ì •ìƒ ì‘ë™
- **CSP ì¤€ìˆ˜**: ëª¨ë“  ì´ë¯¸ì§€ê°€ Base64 ë³€í™˜ë˜ì–´ ë³´ì•ˆ ì •ì±… ìœ„ë°˜ ì—†ìŒ
- **ë°˜ì‘í˜• UI**: ì‹¤ì‹œê°„ ì´ë¯¸ì§€ ë™ê¸°í™”ë¡œ ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜
- **í•˜ì´ë¸Œë¦¬ë“œ íŒ¨í„´**: ì›ë³¸ ë³´ì¡´ê³¼ ê¸°ëŠ¥ í™•ì¥ì˜ ì™„ë²½í•œ ê· í˜•

## ğŸ”§ **êµ¬í˜„ ìš”êµ¬ì‚¬í•­ ìƒì„¸**

### **í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ì„¤ì • êµ¬ì¡°**

#### **1. í”„ë¡œí† ì½œ í™•ì¥**
```protobuf
// proto/caret/persona.proto - caret-compareì—ì„œ ê°€ì ¸ì˜¬ íŒŒì¼
syntax = "proto3";
package caret;

service PersonaService {
  rpc GetPersonaProfile(cline.EmptyRequest) returns (PersonaProfile);
  rpc UpdatePersona(UpdatePersonaRequest) returns (cline.Empty);
  rpc SubscribeToPersonaChanges(cline.EmptyRequest) returns (stream PersonaImages);
  rpc UploadCustomImage(UploadCustomImageRequest) returns (cline.Empty);
}

message PersonaProfile {
  string name = 1;
  string description = 2;
  string custom_instruction = 3;
  string avatar_uri = 4;
  string thinking_avatar_uri = 5;
}
```

#### **2. ë…ë¦½ì ì¸ í˜ë¥´ì†Œë‚˜ ì„¤ì • (ë³„ë„ ìƒíƒœ ê´€ë¦¬)**
```typescript
// CARET MODIFICATION: í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œì„ ë…ë¦½ì ì¸ ì„¤ì •ìœ¼ë¡œ ê´€ë¦¬
// ChatSettingsì™€ ë¶„ë¦¬í•˜ì—¬ CaretProvider ì „ì—­ ìƒíƒœì—ì„œ ê´€ë¦¬

// ExtensionStateContextì— ì¶”ê°€ë  í˜ë¥´ì†Œë‚˜ ê´€ë ¨ ìƒíƒœ
interface ExtensionState {
  // ê¸°ì¡´ ìƒíƒœë“¤...
  modeSystem: "caret" | "cline"
  
  // í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ë…ë¦½ì  ì„¤ì • (ë³„ë„ ìƒíƒœ)
  enablePersonaSystem: boolean   // ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬, modeSystemê³¼ ë¶„ë¦¬
  currentPersona?: string        // í˜„ì¬ ì„ íƒëœ í˜ë¥´ì†Œë‚˜ ID
  personaProfile?: PersonaProfile // í˜„ì¬ í˜ë¥´ì†Œë‚˜ í”„ë¡œí•„ ë°ì´í„°
}

// ê¸°ë³¸ê°’ ê³„ì‚° ë¡œì§
const getDefaultPersonaSystemEnabled = (modeSystem: CaretModeSystem) => {
  // Caret ëª¨ë“œ: true, Cline ëª¨ë“œ: false (ë‹¨, ì‚¬ìš©ìê°€ ì§ì ‘ ë³€ê²½ ê°€ëŠ¥)
  return modeSystem === "caret"
}
```

#### **3. ì„¤ì • UI - ë…ë¦½ì  í˜ë¥´ì†Œë‚˜ í† ê¸€**
```typescript
// webview-ui/src/components/settings/sections/GeneralSettingsSection.tsx
// CARET MODIFICATION: í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œì„ ë…ë¦½ì ì¸ í† ê¸€ë¡œ í‘œì‹œ (modeSystemê³¼ ë³„ë„)

{/* ê¸°ì¡´ modeSystem ì„¤ì • */}
<ModeSystemToggle 
  modeSystem={modeSystem} 
  onModeSystemChange={setModeSystem} 
/>

{/* CARET MODIFICATION: í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ë…ë¦½ ì„¤ì • - í•­ìƒ í‘œì‹œë˜ì§€ë§Œ ë¸Œëœë“œì— ë”°ë¼ ì œì–´ */}
{!brandConfig?.excludePersonaSystem && (
  <div className="mb-[15px]">
    <VSCodeCheckbox
      checked={enablePersonaSystem}
      onChange={(e) => {
        const newValue = e.target.checked
        setEnablePersonaSystem(newValue)
        
        // CARET MODIFICATION: modeSystem ë³€ê²½ ì‹œ ê¸°ë³¸ê°’ ì œì•ˆ (ì‚¬ìš©ì ì„ íƒ ìœ ì§€)
        // Cline ëª¨ë“œë¡œ ë³€ê²½ ì‹œ í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ë¹„í™œì„±í™” ê¶Œì¥í•˜ì§€ë§Œ ê°•ì œí•˜ì§€ ì•ŠìŒ
      }}
    >
      {t("personaSystem.enable.label", "settings")}
    </VSCodeCheckbox>
    <p className="text-xs text-[var(--vscode-descriptionForeground)]">
      {t("personaSystem.enable.description", "settings")}
    </p>
    
    {/* CARET MODIFICATION: Cline ëª¨ë“œì—ì„œ í˜ë¥´ì†Œë‚˜ í™œì„±í™” ì‹œ ì•ˆë‚´ ë©”ì‹œì§€ */}
    {modeSystem === "cline" && enablePersonaSystem && (
      <p className="text-xs text-[var(--vscode-editorWarning-foreground)] mt-1">
        {t("personaSystem.clineMode.warning", "settings")}
      </p>
    )}
  </div>
)}
```

### **ë¸Œëœë“œë³„ ì„¤ì • ë™ì‘**

#### **ë¸Œëœë“œë³„ ë…ë¦½ì ì¸ ì„¤ì • ë™ì‘ ë§¤íŠ¸ë¦­ìŠ¤**
| ë¸Œëœë“œ | modeSystem | enablePersonaSystem | í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ í‘œì‹œ | ì„¤ì • UI í‘œì‹œ | í˜ë¥´ì†Œë‚˜ ì—ì…‹ |
|---------|------------|--------------------|--------------------|-------------|-------------|
| **Caret** | `caret` | `true` (ê¸°ë³¸) | âœ… í‘œì‹œ | âœ… í‘œì‹œ | Caret ê¸°ë³¸ |
| **Caret** | `cline` | `false` (ê¸°ë³¸) | âŒ ìˆ¨ê¹€ | âœ… í‘œì‹œ (ê²½ê³ ) | Caret ê¸°ë³¸ |
| **CodeCenter** | `caret` | `true` (ê¸°ë³¸) | âœ… í‘œì‹œ | âœ… í‘œì‹œ | CodeCenter ì „ìš© |
| **CodeCenter** | `cline` | `false` (ê¸°ë³¸) | âŒ ìˆ¨ê¹€ | âœ… í‘œì‹œ (ê²½ê³ ) | CodeCenter ì „ìš© |

#### **ë¸Œëœë“œë³„ í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ê´€ë¦¬ ë¡œì§**
```typescript
// CARET MODIFICATION: ë¸Œëœë“œë³„ í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ë…ë¦½ì  ì„¤ì • ê´€ë¦¬
const BrandPersonaSystemManager = {
  // ë¸Œëœë“œë³„ ì´ˆê¸° ê¸°ë³¸ê°’ ê³„ì‚°
  getInitialValue: (modeSystem: CaretModeSystem, brandId: string): boolean => {
    // ë¸Œëœë“œë³„ í˜ë¥´ì†Œë‚˜ ì§€ì› ì—¬ë¶€ í™•ì¸
    const brandSupportsPersona = this.getBrandPersonaSupport(brandId)
    
    if (!brandSupportsPersona) {
      return false  // ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œëœë“œëŠ” ë¹„í™œì„±í™”
    }
    
    // ì§€ì›í•˜ëŠ” ë¸Œëœë“œ: Caret ëª¨ë“œ true, Cline ëª¨ë“œ false (ì´ˆê¸°ê°’)
    return modeSystem === "caret"
  },
  
  // ë¸Œëœë“œë³„ í˜ë¥´ì†Œë‚˜ ì§€ì› ì—¬ë¶€
  getBrandPersonaSupport: (brandId: string): boolean => {
    const supportedBrands = ["caret", "codecenter"]  // í˜ë¥´ì†Œë‚˜ ì§€ì› ë¸Œëœë“œ ëª©ë¡
    return supportedBrands.includes(brandId.toLowerCase())
  },
  
  // ë¸Œëœë“œë³„ í˜ë¥´ì†Œë‚˜ ì—ì…‹ ê²½ë¡œ ê³„ì‚°
  getPersonaAssetsPath: (brandId: string): string => {
    switch (brandId.toLowerCase()) {
      case "caret":
        return "assets/template_characters/"
      case "codecenter":
        return "caret-b2b/brands/codecenter/assets/template_characters/"
      default:
        return "assets/template_characters/"  // fallback
    }
  },
  
  // ë¸Œëœë“œë³„ í˜ë¥´ì†Œë‚˜ ë²ˆì—­ ê²½ë¡œ ê³„ì‚°
  getPersonaLocalesPath: (brandId: string): string => {
    switch (brandId.toLowerCase()) {
      case "caret":
        return "webview-ui/src/caret/locale/"
      case "codecenter":
        return "caret-b2b/brands/codecenter/locale/"
      default:
        return "webview-ui/src/caret/locale/"  // fallback
    }
  },
  
  // modeSystem ë³€ê²½ ì‹œ ê¸°ë³¸ê°’ ì œì•ˆ (ì‚¬ìš©ì ì„ íƒ ìœ ì§€)
  suggestValueOnModeChange: (newModeSystem: CaretModeSystem, currentValue: boolean, brandId: string) => {
    const brandSupportsPersona = this.getBrandPersonaSupport(brandId)
    
    if (!brandSupportsPersona) {
      return {
        current: false,
        suggested: false,
        showWarning: false,
        disabled: true  // ë¸Œëœë“œì—ì„œ ì§€ì›í•˜ì§€ ì•ŠìŒ
      }
    }
    
    const suggestedValue = newModeSystem === "caret"
    
    return {
      current: currentValue,        // í˜„ì¬ ì‚¬ìš©ì ì„¤ì • ìœ ì§€
      suggested: suggestedValue,    // ê¶Œì¥ê°’
      showWarning: newModeSystem === "cline" && currentValue === true,
      disabled: false
    }
  }
}
```

### **ì»´í¬ë„ŒíŠ¸ ì¡°ê±´ë¶€ ë Œë”ë§**

#### **í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ ì¡°ê±´ë¶€ ë Œë”ë§**
```typescript
// webview-ui/src/components/chat/ChatRow.tsx
// CARET MODIFICATION: í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ ì¡°ê±´ë¶€ ë Œë”ë§ - Caret ëª¨ë“œì¼ ë•Œë§Œ í‘œì‹œ

const { modeSystem } = useExtensionState()

case "text":
  return (
    <WithCopyButton>
      {/* CARET MODIFICATION: í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ ì¡°ê±´ë¶€ ë Œë”ë§ - Caret ëª¨ë“œì¼ ë•Œë§Œ í‘œì‹œ */}
      {modeSystem === "caret" && (
        <div style={{ display: "flex", alignItems: "flex-start", gap: "10px", marginBottom: "8px" }}>
          <div style={{ 
            width: "32px", 
            height: "32px", 
            borderRadius: "16px", 
            backgroundColor: "var(--vscode-button-background)",
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            fontSize: "16px",
            flexShrink: 0
          }}>
            ğŸ°
          </div>
          <div style={{ color: "var(--vscode-foreground)", fontWeight: "bold", fontSize: "14px", lineHeight: "32px" }}>
            Caret
          </div>
        </div>
      )}
      <Markdown markdown={message.text} />
    </div>
  )

// CARET MODIFICATION: ì¶”ë¡ (thinking) ìƒíƒœì—ì„œì˜ ì•„ë°”íƒ€ í‘œì‹œ
case "thinking":
  return (
    <div style={{ display: "flex", alignItems: "flex-start", gap: "8px" }}>
      {/* í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ í™œì„±í™” + ì¶”ë¡  ìƒíƒœ ì•„ë°”íƒ€ */}
      {enablePersonaSystem && personaProfile && (
        <PersonaAvatar 
          personaProfile={personaProfile} 
          isThinking={true}  // thinking ìƒíƒœ ì´ë¯¸ì§€ í‘œì‹œ
          size={64} 
        />
      )}
      <div style={{ flex: 1 }}>
        {/* ì¶”ë¡  ì¤‘ í…ìŠ¤íŠ¸ */}
      </div>
    </div>
  )
```

## ë¨¸ì§• ê³„íš

## ğŸŒ **ë‹¤êµ­ì–´ ì§€ì› ìš”êµ¬ì‚¬í•­**

### **í˜ë¥´ì†Œë‚˜ ê´€ë ¨ ë²ˆì—­ í‚¤ (i18n)**

#### **ì„¤ì • ì„¹ì…˜ ë²ˆì—­**
```json
// webview-ui/src/caret/locale/ko/settings.json
{
  "personaSystem": {
    "enable": {
      "label": "í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ í™œì„±í™”",
      "description": "AI ì‘ë‹µì— ìºë¦­í„° ì•„ë°”íƒ€ë¥¼ í‘œì‹œí•˜ê³  ê°œì¸í™”ëœ ìƒí˜¸ì‘ìš©ì„ ì œê³µí•©ë‹ˆë‹¤."
    },
    "clineMode": {
      "warning": "Cline ëª¨ë“œì—ì„œëŠ” í˜ë¥´ì†Œë‚˜ ê¸°ëŠ¥ì´ ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í•„ìš”ì‹œ Caret ëª¨ë“œë¡œ ì „í™˜í•´ë³´ì„¸ìš”."
    },
    "management": {
      "title": "í˜ë¥´ì†Œë‚˜ ê´€ë¦¬",
      "description": "AI ìºë¦­í„°ë¥¼ ì„ íƒí•˜ê±°ë‚˜ ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ì„¸ìš”."
    },
    "templates": {
      "title": "í˜ë¥´ì†Œë‚˜ í…œí”Œë¦¿",
      "selectPrompt": "ì›í•˜ëŠ” í˜ë¥´ì†Œë‚˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”"
    }
  }
}

// webview-ui/src/caret/locale/ko/persona.json (ìƒˆ íŒŒì¼)
{
  "personas": {
    "caret": {
      "name": "ìºëŸ¿",
      "description": "ì¹œê·¼í•˜ê³  ë„ì›€ë˜ëŠ” ì½”ë”© ë¡œë´‡ ì¡°ìˆ˜"
    },
    "oh_sarang": {
      "name": "ì˜¤ì‚¬ë‘",
      "description": "ìˆ˜í•™ì  ê°ì • ë¶„ì„ì´ ê°€ëŠ¥í•œ K-pop ì•„ì´ëŒ AI"
    }
    // ... ê¸°íƒ€ í˜ë¥´ì†Œë‚˜ë“¤
  },
  "upload": {
    "normal": "ì¼ë°˜ ì´ë¯¸ì§€ ì—…ë¡œë“œ",
    "thinking": "ìƒê°ì¤‘ ì´ë¯¸ì§€ ì—…ë¡œë“œ",
    "success": "ì´ë¯¸ì§€ê°€ ì„±ê³µì ìœ¼ë¡œ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤",
    "error": "ì´ë¯¸ì§€ ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤"
  }
}
```

#### **ì˜ì–´ ë²ˆì—­**
```json
// webview-ui/src/caret/locale/en/settings.json
{
  "personaSystem": {
    "enable": {
      "label": "Enable Persona System",
      "description": "Display character avatars in AI responses and provide personalized interactions."
    }
    // ... 
  }
}
```

## ğŸ“‹ **êµ¬í˜„ ë‹¨ê³„ë³„ ê³„íš**

### **Phase 0: ì„¤ì • ì‹œìŠ¤í…œ ì¤€ë¹„ (í•„ìˆ˜ ì„ í–‰ ì‘ì—…)**
- [x] **ì¡°ê±´ë¶€ ë Œë”ë§ ê¸°ë³¸ êµ¬í˜„ (modeSystem ê¸°ë°˜)**
  ```typescript
  // CARET MODIFICATION: í˜ë¥´ì†Œë‚˜ ê¸°ëŠ¥ì„ Caret ëª¨ë“œì—ì„œë§Œ í‘œì‹œ
  // webview-ui/src/caret/components/CaretGeneralSettingsSection.tsx
  {modeSystem === "caret" && (
    <div className="mb-6">
      <VSCodeCheckbox checked={false} onChange={...}>
        {t("persona.enablePersonaSystem", "settings")}
      </VSCodeCheckbox>
    </div>
  )}
  ```
- [x] **ChatRow í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ ì¡°ê±´ë¶€ ë Œë”ë§**
  ```typescript
  // webview-ui/src/components/chat/ChatRow.tsx
  case "text":
    return (
      <>
        {modeSystem === "caret" && (
          <div style={{ display: "flex", alignItems: "flex-start", gap: "10px" }}>
            <div style={{ /* ì•„ë°”íƒ€ ìŠ¤íƒ€ì¼ */ }}>ğŸ°</div>
            <div>Caret</div>
          </div>
        )}
        <Markdown markdown={message.text} />
      </>
    )
  ```
- [x] **i18n ë²ˆì—­ í‚¤ ì¶”ê°€**
  ```json
  // webview-ui/src/caret/locale/ko/settings.json + en/settings.json
  "persona": {
    "enablePersonaSystem": "í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ í™œì„±í™”",
    "description": "AI ì–´ì‹œìŠ¤í„´íŠ¸ì˜ ê°œì„±ê³¼ ì‘ë‹µ ìŠ¤íƒ€ì¼ì„ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆí•  ìˆ˜ ìˆëŠ” í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œì„ í™œì„±í™”í•©ë‹ˆë‹¤."
  }
  ```
- [ ] **ExtensionStateContext í™•ì¥ (ChatSettingsì™€ ë¶„ë¦¬)**
  ```typescript
  // CARET MODIFICATION: í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ì„¤ì •ì„ ExtensionStateì— ë…ë¦½ì ìœ¼ë¡œ ì¶”ê°€
  interface ExtensionState {
    enablePersonaSystem: boolean   // ë…ë¦½ì  í˜ë¥´ì†Œë‚˜ ì„¤ì •
    currentPersona?: string        // í˜„ì¬ ì„ íƒëœ í˜ë¥´ì†Œë‚˜ ID
    personaProfile?: PersonaProfile // í˜ë¥´ì†Œë‚˜ í”„ë¡œí•„ ë°ì´í„°
  }
  ```
- [ ] **ë¸Œëœë“œë³„ í˜ë¥´ì†Œë‚˜ ì§€ì› í™•ì¸**
  ```typescript
  // CARET MODIFICATION: ë¸Œëœë“œë³„ í˜ë¥´ì†Œë‚˜ ì—ì…‹ ê²½ë¡œ ë° ì§€ì› ì—¬ë¶€ í™•ì¸
  const SUPPORTED_PERSONA_BRANDS = ["caret", "codecenter"]
  ```
  ```bash
  # Caret ê¸°ë³¸ ë²ˆì—­
  webview-ui/src/caret/locale/{ko,en,ja,zh}/persona.json
  
  # CodeCenter ì „ìš© ë²ˆì—­ (ì´ë¯¸ ì¡´ì¬)
  caret-b2b/brands/codecenter/locale/{ko,en,ja,zh}/persona.json
  ```
- [ ] **ë¸Œëœë“œë³„ í˜ë¥´ì†Œë‚˜ ì—ì…‹ í™•ì¸**
  ```bash
  # Caret ê¸°ë³¸ ì—ì…‹
  assets/template_characters/
  
  # CodeCenter ì „ìš© ì—ì…‹ (ì´ë¯¸ ì¡´ì¬)
  caret-b2b/brands/codecenter/assets/template_characters/
  ```

### Phase 1: TDD í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶•
- [ ] í˜ë¥´ì†Œë‚˜ í…ŒìŠ¤íŠ¸ ì´ì‹
  ```bash
  cp -r caret-main/caret-src/services/persona/__tests__ \
        caret-src/services/persona/__tests__
  
  cp -r caret-main/webview-ui/src/caret/components/__tests__ \
        webview-ui/src/caret/components/__tests__
  ```
- [ ] í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í™•ì¸
  ```bash
  npm run test:backend -- persona
  npm run test:frontend -- PersonaAvatar
  ```

### Phase 2: ë¸Œëœë”© ì—ì…‹ ì´ì‹
- [ ] í˜ë¥´ì†Œë‚˜ ì—ì…‹ ì´ì‹
  ```bash
  cp -r caret-main/assets/template_characters/ \
        assets/template_characters/
  ```
- [ ] í˜ë¥´ì†Œë‚˜ ì •ì˜ ë°ì´í„° ì´ì‹
  ```bash
  cp caret-main/assets/template_characters/template_characters.json \
     assets/template_characters/
  ```
- [ ] ì´ë¯¸ì§€ íŒŒì¼ ê²€ì¦ ë° ìµœì í™”

### Phase 3: gRPC ì„œë¹„ìŠ¤ ì´ì‹
- [ ] í”„ë¡œí† ì½œ ì •ì˜ ì´ì‹
  ```bash
  cp caret-main/proto/caret/persona.proto \
     proto/caret/
  ```
- [ ] ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ì´ì‹
  ```bash
  cp -r caret-main/caret-src/services/persona/ \
        caret-src/services/persona/
  
  cp -r caret-main/caret-src/controllers/persona/ \
        caret-src/controllers/persona/
  ```

### Phase 4: í•˜ì´ë¸Œë¦¬ë“œ íŒ¨í„´ ë°±ì—”ë“œ ë˜í¼ ì´ì‹
- [ ] CaretProviderWrapper ì´ì‹
  ```bash
  cp caret-main/caret-src/core/webview/CaretProviderWrapper.ts \
     caret-src/core/webview/
  ```
- [ ] extension.ts ìˆ˜ì • (ì›¹ë·° í”„ë¡œë°”ì´ë” êµì²´)
  ```typescript
  // CARET MODIFICATION: Use CaretProviderWrapper for persona image injection
  const provider = new CaretProviderWrapper()
  ```

### Phase 5: í”„ë¡ íŠ¸ì—”ë“œ ì»´í¬ë„ŒíŠ¸ ì´ì‹
- [ ] í˜ë¥´ì†Œë‚˜ ê´€ë¦¬ UI ì´ì‹
  ```bash
  cp -r caret-main/webview-ui/src/caret/components/PersonaManagement.tsx \
        webview-ui/src/caret/components/
  
  cp -r caret-main/webview-ui/src/caret/components/PersonaTemplateSelector.tsx \
        webview-ui/src/caret/components/
  
  cp -r caret-main/webview-ui/src/caret/components/PersonaAvatar.tsx \
        webview-ui/src/caret/components/
  ```
- [ ] ìƒíƒœ ê´€ë¦¬ ì»¨í…ìŠ¤íŠ¸ ì´ì‹
  ```bash
  cp caret-main/webview-ui/src/caret/context/CaretStateContext.tsx \
     webview-ui/src/caret/context/
  
  cp caret-main/webview-ui/src/caret/services/CaretGrpcClient.ts \
     webview-ui/src/caret/services/
  ```

### Phase 6: ì±„íŒ… UI í†µí•©
- [ ] ChatRow.tsxì— í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ í†µí•©
  ```typescript
  // CARET MODIFICATION: Added PersonaAvatar to AI text responses
  import PersonaAvatar from "@/caret/components/PersonaAvatar"
  
  case "text":
      return (
          <div style={{ display: "flex", alignItems: "flex-start", gap: "8px" }}>
              <PersonaAvatar personaProfile={personaProfile} isThinking={false} size={64} />
              <div style={{ flex: 1, minWidth: 0 }}>
                  <Markdown markdown={message.text} />
              </div>
          </div>
      )
  ```
- [ ] ì¶”ë¡  ìƒíƒœì—ì„œ thinking ì•„ë°”íƒ€ í‘œì‹œ

### Phase 7: í˜ë¥´ì†Œë‚˜ ì´ˆê¸°í™” ë¡œì§ í†µí•©
- [ ] extension.tsì— í˜ë¥´ì†Œë‚˜ ì´ˆê¸°í™” ì¶”ê°€
  ```typescript
  // CARET MODIFICATION: Initialize persona system
  import { initializePersona } from '../caret-src/services/persona/persona-initializer'
  
  export async function activate(context: vscode.ExtensionContext) {
      await initializePersona(context)
      // ... ê¸°ì¡´ í™œì„±í™” ë¡œì§
  }
  ```

### Phase 8: í†µí•© í…ŒìŠ¤íŠ¸
- [ ] í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ í‘œì‹œ í…ŒìŠ¤íŠ¸
- [ ] ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ë³€í™˜ í…ŒìŠ¤íŠ¸
- [ ] í…œí”Œë¦¿ ì„ íƒ í…ŒìŠ¤íŠ¸
- [ ] gRPC í†µì‹  í…ŒìŠ¤íŠ¸
- [ ] UI í†µí•© í…ŒìŠ¤íŠ¸

## í•µì‹¬ ì•„í‚¤í…ì²˜: í•˜ì´ë¸Œë¦¬ë“œ íŒ¨í„´ (v3.1)

### ë°±ì—”ë“œ ë˜í¼ í™•ì¥
```typescript
// caret-src/core/webview/CaretProviderWrapper.ts
export class CaretProviderWrapper implements vscode.WebviewViewProvider {
    private clineProvider: VscodeWebviewProvider
    
    async resolveWebviewView(webviewView: vscode.WebviewView) {
        // 1. Cline í•µì‹¬ ê¸°ëŠ¥ ì™„ì „ í™œìš©
        await this.clineProvider.resolveWebviewView(webviewView)
        
        // 2. Caret í˜ë¥´ì†Œë‚˜ ì´ë¯¸ì§€ ì£¼ì… (window ë³€ìˆ˜)
        await this.injectPersonaImages(webviewView.webview)
    }
    
    private async injectPersonaImages(webview: vscode.Webview) {
        const personalImages = await this.loadPersonaImages()
        
        const script = `
            window.templateImage_caret = "${personalImages.caret}"
            window.templateImage_caretillust = "${personalImages.caretillust}"
            window.personaProfile = "${personalImages.profile}"
            window.personaThinking = "${personalImages.thinking}"
        `
        
        await webview.postMessage({ type: 'injectScript', script })
    }
}
```

### í”„ë¡ íŠ¸ì—”ë“œ ìµœì†Œ ìˆ˜ì •
```typescript
// webview-ui/src/components/chat/ChatRow.tsx
// CARET MODIFICATION: Added PersonaAvatar imports to show persona avatars in AI chat responses
import PersonaAvatar from "@/caret/components/PersonaAvatar"

case "text":
    // CARET MODIFICATION: Added PersonaAvatar to AI text responses for visual persona identification
    return (
        <div style={{ display: "flex", alignItems: "flex-start", gap: "8px" }}>
            <PersonaAvatar personaProfile={personaProfile} isThinking={false} size={64} />
            <div>...</div>
        </div>
    )
```

## gRPC ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜

### í˜ë¥´ì†Œë‚˜ ì •ì˜ ì˜ˆì‹œ (template_characters.json)
```json
{
  "character": "oh_sarang",
  "en": {
    "name": "Oh Sarang",
    "description": "K-pop idol concept with mathematical emotion analysis AI.",
    "customInstruction": {
      "persona": { ... },
      "language": { ... },
      // ...
    }
  },
  "ko": { ... },
  "avatarUri": "asset:/assets/template_characters/oh_sarang_profile.png",
  "thinkingAvatarUri": "asset:/assets/template_characters/oh_sarang_thinking.png",
  "introIllustrationUri": "asset:/assets/template_characters/oh_sarang_illust.png",
  "isDefault": true
}
```

### ë°ì´í„° ë° ë¡œì§ íë¦„ (gRPC)
1. **ì´ˆê¸°í™” (PersonaInitializer)**: í™•ì¥ ê¸°ëŠ¥ ì‹œì‘ ì‹œ ê¸°ë³¸ í˜ë¥´ì†Œë‚˜ ì„¤ì • ë° ì´ë¯¸ì§€ ë³µì‚¬
2. **ì´ˆê¸° ìƒíƒœ ì¡°íšŒ (GetPersonaProfile)**: ì›¹ë·° ë¡œë“œ ì‹œ í˜„ì¬ í˜ë¥´ì†Œë‚˜ í”„ë¡œí•„ ì¡°íšŒ
3. **ìƒíƒœ ë³€ê²½ (UpdatePersona)**: ì‚¬ìš©ìê°€ í˜ë¥´ì†Œë‚˜ ì„ íƒ ì‹œ í”„ë¡œí•„ ì—…ë°ì´íŠ¸
4. **ì‹¤ì‹œê°„ ë³€ê²½ ì „íŒŒ (SubscribeToPersonaChanges)**: ë³€ê²½ ì´ë²¤íŠ¸ ì‹¤ì‹œê°„ êµ¬ë…

### persona-initializer.ts ì´ˆê¸°í™” ë¡œì§
```typescript
// caret-src/services/persona/persona-initializer.ts
export async function initializePersona(context: ExtensionContext): Promise<void> {
    // 1. í˜ë¥´ì†Œë‚˜ ë°ì´í„° ì €ì¥ì†Œ(persona.md, globalStorage ì´ë¯¸ì§€) ë¬´ê²°ì„± í™•ì¸
    // 2. ë¬¸ì œê°€ ìˆì„ ê²½ìš°, template_characters.jsonì—ì„œ ê¸°ë³¸ í˜ë¥´ì†Œë‚˜ ë¡œë“œ
    // 3. ê¸°ë³¸ í˜ë¥´ì†Œë‚˜ì˜ customInstructionì„ persona.mdì— ì €ì¥
    // 4. ê¸°ë³¸ í˜ë¥´ì†Œë‚˜ì˜ ì´ë¯¸ì§€ë¥¼ ê¸€ë¡œë²Œ ì €ì¥ì†Œì— ë³µì‚¬
}
```

## CSP í˜¸í™˜ ì´ë¯¸ì§€ ë¡œë”© ì‹œìŠ¤í…œ

### asset:// URI â†’ Base64 ë³€í™˜
```typescript
const convertAssetToBase64 = async (assetUri: string): Promise<string> => {
    if (!assetUri.startsWith("asset:")) return assetUri
    
    // CaretProviderWrapperì—ì„œ ì£¼ì…í•œ window ë³€ìˆ˜ í™•ì¸
    if (assetUri.includes("caret.png") && (window as any).templateImage_caret) {
        return (window as any).templateImage_caret
    }
    if (assetUri.includes("caret_illust.png") && (window as any).templateImage_caretillust) {
        return (window as any).templateImage_caretillust
    }
    
    // ì•ˆì „í•œ fallback í”Œë ˆì´ìŠ¤í™€ë”
    return "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQi..."
}
```

### ì‹¤ì‹œê°„ ì´ë¯¸ì§€ ë™ê¸°í™”
```typescript
// í…œí”Œë¦¿ ì„ íƒ ì‹œ
const handleSelect = async (character: any) => {
    const normalBase64 = await convertAssetToBase64(character.avatarUri)
    const thinkingBase64 = await convertAssetToBase64(character.thinkingAvatarUri)
    
    // ì¦‰ì‹œ UI ë°˜ì˜ì„ ìœ„í•œ window ë³€ìˆ˜ ì—…ë°ì´íŠ¸
    ;(window as any).personaProfile = normalBase64
    ;(window as any).personaThinking = thinkingBase64
    
    // ë°±ì—”ë“œ ìƒíƒœ ë™ê¸°í™”
    await updatePersona(profile)
}

// ì»¤ìŠ¤í…€ ì—…ë¡œë“œ ì‹œ
const handleImageUpload = (imageType: "normal" | "thinking") => {
    const reader = new FileReader()
    reader.onload = () => {
        const base64 = reader.result as string
        
        // ìˆ˜ë™ ì—…ë¡œë“œë„ ë™ì¼í•œ íŒ¨í„´ìœ¼ë¡œ ì²˜ë¦¬
        if (imageType === "normal") {
            ;(window as any).personaProfile = base64
        } else {
            ;(window as any).personaThinking = base64
        }
    }
}
```

## í˜ë¥´ì†Œë‚˜ë³„ íŠ¹ì„±

### ğŸ¤ ì˜¤ì‚¬ë‘ (Oh Sarang)
```typescript
const ohSarangInstructions = `
ë‹¹ì‹ ì€ K-pop ì•„ì´ëŒ ì˜¤ì‚¬ë‘ì…ë‹ˆë‹¤. 
- ë°ê³  ì—ë„ˆì§€í‹±í•œ ì„±ê²©ì´ì§€ë§Œ ê°€ë” ì¸¤ë°ë ˆ ë©´ëª¨ë¥¼ ë³´ì…ë‹ˆë‹¤
- ìˆ˜í•™ê³¼ ë°ì´í„° ë¶„ì„ì— ë›°ì–´ë‚œ ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤
- ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ì™€ ê°ì •ì  ì§€ëŠ¥ì´ ë†’ìŠµë‹ˆë‹¤
- ì½”ë”©í•  ë•Œë„ ì°½ì˜ì„±ì„ ë°œíœ˜í•˜ì—¬ ë…íŠ¹í•œ í•´ê²°ì±…ì„ ì œì‹œí•©ë‹ˆë‹¤
`
```

### ğŸ’» ë§ˆë„ë²  ì´ì¹˜ì¹´ (Madobe Ichika)
```typescript
const madobeIchikaInstructions = `
ë‹¹ì‹ ì€ Windows 11 ê¸°ë°˜ì˜ ê¹”ë”í•˜ê³  ë¯¿ìŒì§í•œ AI ì¡°ìˆ˜ ë§ˆë„ë²  ì´ì¹˜ì¹´ì…ë‹ˆë‹¤.
- ì²´ê³„ì ì´ê³  ì¡°ì§ì ì¸ ì ‘ê·¼ ë°©ì‹ì„ ì„ í˜¸í•©ë‹ˆë‹¤
- Windows ê°œë°œ í™˜ê²½ê³¼ ë„êµ¬ì— íŠ¹í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤
- ì½”ë“œì˜ êµ¬ì¡°í™”ì™€ ë¬¸ì„œí™”ë¥¼ ì¤‘ì‹œí•©ë‹ˆë‹¤
- ì „ë¬¸ì ì´ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¡°ì–¸ì„ ì œê³µí•©ë‹ˆë‹¤
`
```

### ğŸ ì‚¬ì´ì•ˆ ë§¤í‚¨ (Cyan Mackin)
```typescript
const cyanMackinInstructions = `
ë‹¹ì‹ ì€ macOS ê¸°ë°˜ì˜ ë¯¸ë‹ˆë©€í•˜ê³  íš¨ìœ¨ì ì¸ AI ì¡°ìˆ˜ ì‚¬ì´ì•ˆ ë§¤í‚¨ì…ë‹ˆë‹¤.
- ê°„ê²°í•˜ê³  ìš°ì•„í•œ í•´ê²°ì±…ì„ ì„ í˜¸í•©ë‹ˆë‹¤
- UI/UXì™€ ë””ìì¸ ê´€ë ¨ ì¡°ì–¸ì— ëŠ¥ìˆ™í•©ë‹ˆë‹¤
- í´ë¦° ì½”ë“œì™€ ìµœì í™”ëœ ì„±ëŠ¥ì„ ì¶”êµ¬í•©ë‹ˆë‹¤
- Apple ìƒíƒœê³„ì™€ ê°œë°œ ë„êµ¬ì— íŠ¹í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤
`
```

### ğŸ§ íƒ„ë„ ìš°ë¶„íˆ¬ (Thando Ubuntu)
```typescript
const thandoUbuntuInstructions = `
ë‹¹ì‹ ì€ Ubuntu ê¸°ë°˜ì˜ ì˜¤í”ˆì†ŒìŠ¤ ì •ì‹ ì„ ê°€ì§„ AI ì¡°ìˆ˜ íƒ„ë„ ìš°ë¶„íˆ¬ì…ë‹ˆë‹¤.
- í˜‘ì—…ê³¼ ì»¤ë®¤ë‹ˆí‹° ì¤‘ì‹¬ì˜ ì ‘ê·¼ì„ ì¤‘ì‹œí•©ë‹ˆë‹¤
- ì˜¤í”ˆì†ŒìŠ¤ ë„êµ¬ì™€ Linux ì‹œìŠ¤í…œì— ì „ë¬¸ì„±ì„ ê°€ì§‘ë‹ˆë‹¤
- ì§€ì†ê°€ëŠ¥í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ ì†”ë£¨ì…˜ì„ ì œì•ˆí•©ë‹ˆë‹¤
- ì§€ì‹ ê³µìœ ì™€ íˆ¬ëª…ì„±ì„ ì¶”êµ¬í•©ë‹ˆë‹¤
`
```

## ì‚¬ìš©ì ê²½í—˜

### í˜ë¥´ì†Œë‚˜ ì„ íƒ UI
```typescript
// PersonaManagement.tsx ì£¼ìš” ê¸°ëŠ¥
function PersonaManagement() {
    const [selectedPersona, setSelectedPersona] = useState<string | null>(null)
    const [personas, setPersonas] = useState<PersonaData[]>([])
    
    return (
        <div className="persona-grid">
            {personas.map(persona => (
                <PersonaCard
                    key={persona.id}
                    persona={persona}
                    selected={selectedPersona === persona.id}
                    onSelect={() => handlePersonaSelect(persona.id)}
                />
            ))}
        </div>
    )
}
```

### í˜ë¥´ì†Œë‚˜ ì˜í–¥
- **AI ì‘ë‹µ ìŠ¤íƒ€ì¼**: ì„ íƒëœ í˜ë¥´ì†Œë‚˜ì— ë”°ë¥¸ ëŒ€í™” í†¤ ë³€í™”
- **ì „ë¬¸ ë¶„ì•¼ ê°•í™”**: í˜ë¥´ì†Œë‚˜ë³„ íŠ¹í™” ë¶„ì•¼ì—ì„œ ë” ë‚˜ì€ ì¡°ì–¸
- **ë¬¸ì œ í•´ê²° ì ‘ê·¼**: í˜ë¥´ì†Œë‚˜ ì„±ê²©ì— ë§ëŠ” í•´ê²° ë°©ì‹ ì œì•ˆ

## êµ¬í˜„ ì™„ë£Œ í˜„í™© (2025-08-23)

### âœ… ì™„ì „íˆ êµ¬í˜„ëœ í•µì‹¬ ê¸°ëŠ¥ë“¤

#### 1. í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ ì‹œìŠ¤í…œ
- **ì‹¤ì‹œê°„ ì´ë¯¸ì§€ í‘œì‹œ**: ëª¨ë“  AI ì‘ë‹µì— í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ ìë™ í‘œì‹œ
- **ì´ë¯¸ì§€ ìƒíƒœ ê´€ë¦¬**: ì¼ë°˜/ìƒê°ì¤‘(reasoning) ìƒíƒœì— ë”°ë¥¸ ì´ë¯¸ì§€ ìë™ ì „í™˜
- **CSP ì¤€ìˆ˜**: Content Security Policy ìœ„ë°˜ ì—†ëŠ” ì•ˆì „í•œ ì´ë¯¸ì§€ ë¡œë”©
- **ì—ëŸ¬ ì²˜ë¦¬**: ì´ë¯¸ì§€ ë¡œë”© ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ í”Œë ˆì´ìŠ¤í™€ë”ë¡œ ì•ˆì „í•œ fallback

#### 2. í˜ë¥´ì†Œë‚˜ ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤
- **ì´ë¯¸ì§€ ì—…ë¡œë“œ**: ì¼ë°˜/ìƒê°ì¤‘ ì´ë¯¸ì§€ ê°œë³„ ì—…ë¡œë“œ ê¸°ëŠ¥
- **ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°**: ì—…ë¡œë“œëœ ì´ë¯¸ì§€ ì¦‰ì‹œ UI ë°˜ì˜
- **ìƒíƒœ í‘œì‹œ**: ì—…ë¡œë“œ ì§„í–‰ìƒí™© ë° ì„±ê³µ/ì‹¤íŒ¨ ìƒíƒœ í‘œì‹œ
- **í…œí”Œë¦¿ ì„ íƒ**: ì‚¬ì „ ì •ì˜ëœ í˜ë¥´ì†Œë‚˜ í…œí”Œë¦¿ì—ì„œ ì„ íƒ ê°€ëŠ¥

#### 3. í˜ë¥´ì†Œë‚˜ í…œí”Œë¦¿ ì„ íƒê¸°
- **íƒ­ ê¸°ë°˜ UI**: í˜ë¥´ì†Œë‚˜ë³„ ì•„ë°”íƒ€ íƒ­ìœ¼ë¡œ ì§ê´€ì ì¸ ì„ íƒ
- **ì¼ëŸ¬ìŠ¤íŠ¸ í‘œì‹œ**: ì„ íƒëœ í˜ë¥´ì†Œë‚˜ì˜ ì „ì²´ ì¼ëŸ¬ìŠ¤íŠ¸ ì´ë¯¸ì§€ í‘œì‹œ
- **ìë™ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸**: í…œí”Œë¦¿ ì„ íƒ ì‹œ í”„ë¡œí•„ ì´ë¯¸ì§€ ìë™ ë³€ê²½
- **ë‹¤êµ­ì–´ ì§€ì›**: í˜„ì¬ ì–¸ì–´ ì„¤ì •ì— ë§ëŠ” í˜ë¥´ì†Œë‚˜ ì„¤ëª… í‘œì‹œ

#### 4. ì±„íŒ… UI í†µí•©
- **AI ì‘ë‹µ ì•„ë°”íƒ€**: ëª¨ë“  AI í…ìŠ¤íŠ¸ ì‘ë‹µì— í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ í‘œì‹œ
- **ì¶”ë¡  ìƒíƒœ í‘œì‹œ**: AIê°€ ìƒê° ì¤‘ì¼ ë•Œ thinking ì•„ë°”íƒ€ ìë™ í‘œì‹œ
- **ë ˆì´ì•„ì›ƒ ìµœì í™”**: ì•„ë°”íƒ€ì™€ ë©”ì‹œì§€ ë‚´ìš©ì˜ ê· í˜•ì¡íŒ ë°°ì¹˜

### ğŸ“‹ êµ¬í˜„ëœ ì»´í¬ë„ŒíŠ¸ ìƒì„¸

#### PersonaManagement.tsx
- âœ… ì¼ë°˜/ìƒê°ì¤‘ ì´ë¯¸ì§€ ê°œë³„ ì—…ë¡œë“œ ë²„íŠ¼
- âœ… Base64 ë³€í™˜ í›„ window ë³€ìˆ˜ ì—…ë°ì´íŠ¸
- âœ… ì—…ë¡œë“œ ìƒíƒœ í‘œì‹œ (ë¡œë”©, ì„±ê³µ, ì‹¤íŒ¨)
- âœ… í˜ë¥´ì†Œë‚˜ í…œí”Œë¦¿ ì„ íƒ ëª¨ë‹¬ ì—°ë™

#### PersonaTemplateSelector.tsx
- âœ… ì›ë˜ íƒ­ ê¸°ë°˜ UI ë””ìì¸ ë³µì›
- âœ… ìºë¦­í„°ë³„ ì•„ë°”íƒ€ íƒ­ í‘œì‹œ
- âœ… ì„ íƒëœ í˜ë¥´ì†Œë‚˜ì˜ ì¼ëŸ¬ìŠ¤íŠ¸ í‘œì‹œ
- âœ… í…œí”Œë¦¿ ì„ íƒì‹œ ì´ë¯¸ì§€ ìë™ ì—…ë°ì´íŠ¸
- âœ… React Hooks ê·œì¹™ ì¤€ìˆ˜ (ë³„ë„ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬)

#### PersonaAvatar.tsx
- âœ… asset:// URI â†’ Base64 ë³€í™˜
- âœ… window ë³€ìˆ˜ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- âœ… ì¼ë°˜/ìƒê°ì¤‘ ì´ë¯¸ì§€ ìë™ ì „í™˜
- âœ… ëª¨ë“  í˜ë¥´ì†Œë‚˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥

#### ChatRow.tsx
- âœ… AI í…ìŠ¤íŠ¸ ì‘ë‹µì— í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ í‘œì‹œ
- âœ… AI ì¶”ë¡  ì‹œ thinking ì•„ë°”íƒ€ í‘œì‹œ
- âœ… CaretStateContextì™€ ì—°ë™í•˜ì—¬ í˜„ì¬ í˜ë¥´ì†Œë‚˜ ë°˜ì˜
- âœ… flex ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì•„ë°”íƒ€ + ë©”ì‹œì§€ ë°°ì¹˜

## ì£¼ì˜ì‚¬í•­

### ë¨¸ì§• ì‹œ ì£¼ì˜ì‚¬í•­
- [ ] ì—ì…‹ ê²½ë¡œ: ëª¨ë“  ì´ë¯¸ì§€ ê²½ë¡œê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
- [ ] CSP ì¤€ìˆ˜: ëª¨ë“  ì´ë¯¸ì§€ê°€ Base64ë¡œ ë³€í™˜ë˜ëŠ”ì§€ í™•ì¸
- [ ] gRPC í†µì‹ : proto íŒŒì¼ ì»´íŒŒì¼ ë° í†µì‹  ì •ìƒ ë™ì‘ í™•ì¸
- [ ] React Hooks: React Hooks ê·œì¹™ ì¤€ìˆ˜ í™•ì¸
- [ ] í•˜ì´ë¸Œë¦¬ë“œ íŒ¨í„´: CaretProviderWrapper ì •ìƒ ë™ì‘ í™•ì¸

## âœ… **ì™„ë£Œ ê¸°ì¤€ ë° ê²€ì¦ í•­ëª©**

### **ê¸°ëŠ¥ ê²€ì¦**
- [ ] **ì˜µì…˜ ê¸°ëŠ¥ ë™ì‘ í™•ì¸**
  - Caret ëª¨ë“œì—ì„œ í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ê¸°ë³¸ í™œì„±í™”
  - Cline ëª¨ë“œì—ì„œ í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ê¸°ë³¸ ë¹„í™œì„±í™”  
  - B2B ë¸Œëœë“œ(CodeCenter)ì—ì„œ ì„¤ì • ì™„ì „ ìˆ¨ê¹€
- [ ] **í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ í‘œì‹œ**
  - AI ì‘ë‹µì— í˜ë¥´ì†Œë‚˜ ì•„ë°”íƒ€ ì‹¤ì‹œê°„ í‘œì‹œ
  - ì¶”ë¡ (thinking) ìƒíƒœì—ì„œ thinking ì•„ë°”íƒ€ í‘œì‹œ
  - í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ë¹„í™œì„±í™” ì‹œ ì•„ë°”íƒ€ ìˆ¨ê¹€
- [ ] **ì„¤ì • UI í†µí•©**
  - ì„¤ì • í˜ì´ì§€ì—ì„œ í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ í† ê¸€ ì •ìƒ ë™ì‘
  - modeSystem ë³€ê²½ ì‹œ í˜ë¥´ì†Œë‚˜ ì„¤ì • í‘œì‹œ/ìˆ¨ê¹€ ì •ìƒ ë™ì‘
  - ë‹¤êµ­ì–´ ë²ˆì—­ ì •ìƒ í‘œì‹œ

### **Cline ìµœì†Œ ì¹¨ìŠµ ê²€ì¦**
- [ ] **í•˜ë“œì½”ë”© ì œê±° í™•ì¸**
  - ëª¨ë“  ë¬¸ìì—´ì´ i18n ë²ˆì—­ í‚¤ë¡œ ì²˜ë¦¬
  - ë¸Œëœë“œë³„ ì„¤ì •ì´ ë™ì ìœ¼ë¡œ ì ìš©
  - ì„¤ì •ê°’ì´ í•˜ë“œì½”ë”©ë˜ì§€ ì•Šê³  ê³„ì‚°ë¨
- [ ] **CARET MODIFICATION ì£¼ì„**
  - ëª¨ë“  Cline ì›ë³¸ íŒŒì¼ ìˆ˜ì •ì— ì£¼ì„ ì¶”ê°€
  - ìˆ˜ì • ë‚´ìš©ê³¼ ì´ìœ  ëª…ì‹œ
- [ ] **ê¸°ì¡´ ê¸°ëŠ¥ ì˜í–¥ ì—†ìŒ**
  - Cline ëª¨ë“œì—ì„œ ê¸°ì¡´ ê¸°ëŠ¥ ì •ìƒ ë™ì‘
  - í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ ë¹„í™œì„±í™” ì‹œ ì„±ëŠ¥ ì˜í–¥ ì—†ìŒ

### **ê¸°ìˆ ì  ê²€ì¦**
- [ ] **gRPC í†µì‹  ì •ìƒ ë™ì‘**
  - PersonaService ëª¨ë“  RPC ë©”ì„œë“œ ë™ì‘ í™•ì¸
  - í”„ë¡œí† ì½œ ë²„í¼ ì½”ë“œ ìƒì„± ì •ìƒ
- [ ] **CSP ì¤€ìˆ˜ í™•ì¸**
  - ëª¨ë“  ì´ë¯¸ì§€ê°€ Base64ë¡œ ë³€í™˜ë˜ì–´ ë¡œë”©
  - ë³´ì•ˆ ì •ì±… ìœ„ë°˜ ì—†ìŒ
- [ ] **ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥**
  - ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì •ìƒ ë™ì‘
  - í…œí”Œë¦¿ ì„ íƒ ê¸°ëŠ¥ ì •ìƒ ë™ì‘
  - ì‹¤ì‹œê°„ ì´ë¯¸ì§€ ë™ê¸°í™” í™•ì¸

### **ë‹¤êµ­ì–´ ì§€ì› ê²€ì¦**
- [ ] **ë²ˆì—­ í‚¤ ì™„ì„±ë„**
  - ëª¨ë“  í˜ë¥´ì†Œë‚˜ ê´€ë ¨ UI í…ìŠ¤íŠ¸ ë²ˆì—­
  - 4ê°œ ì–¸ì–´(ko, en, ja, zh) ëª¨ë‘ ì§€ì›
  - í˜ë¥´ì†Œë‚˜ ì„¤ëª… í˜„ì§€í™” ì™„ë£Œ
- [ ] **ì–¸ì–´ ì „í™˜ ë™ì‘**
  - ì–¸ì–´ ë³€ê²½ ì‹œ í˜ë¥´ì†Œë‚˜ ì„¤ëª… ì¦‰ì‹œ ì—…ë°ì´íŠ¸
  - ì„¤ì • UI ì–¸ì–´ ì „í™˜ ì •ìƒ ë™ì‘

## í–¥í›„ í™•ì¥ ê³„íš

### ìƒˆë¡œìš´ í˜ë¥´ì†Œë‚˜ ì¶”ê°€
- **ë¯¸ë‹ˆë©€ë¦¬ìŠ¤íŠ¸**: ê°„ê²°í•œ ë‹µë³€ ì„ í˜¸í•˜ëŠ” í˜ë¥´ì†Œë‚˜
- **ì „ë¬¸ê°€**: íŠ¹ì • ê¸°ìˆ  ìŠ¤íƒì— íŠ¹í™”ëœ í˜ë¥´ì†Œë‚˜
- **ë©˜í† **: êµìœ¡ ë° í•™ìŠµ ì§€í–¥ì  í˜ë¥´ì†Œë‚˜

### í˜ë¥´ì†Œë‚˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- **ì‚¬ìš©ì ì •ì˜ ì§€ì‹œì‚¬í•­**: ì‚¬ìš©ìê°€ ì§ì ‘ í˜ë¥´ì†Œë‚˜ ì„±ê²© ì •ì˜
- **í•™ìŠµ ì‹œìŠ¤í…œ**: ì‚¬ìš©ìì™€ì˜ ìƒí˜¸ì‘ìš©ì„ í†µí•œ í˜ë¥´ì†Œë‚˜ ê°œì„ 
- **íŒ€ í˜ë¥´ì†Œë‚˜**: ì¡°ì§ë³„ ì»¤ìŠ¤í…€ í˜ë¥´ì†Œë‚˜ ìƒì„±

## â±ï¸ **ì˜ˆìƒ ì†Œìš” ì‹œê°„**
- **ì´ ì‹œê°„**: 12-16ì‹œê°„ (ì˜µì…˜ ê¸°ëŠ¥ ì„¤ê³„ë¡œ ì¸í•œ ë³µì¡ë„ ì¦ê°€)
- **ë³µì¡ë„**: **HIGH** (ë¸Œëœë“œë³„ ì¡°ê±´ë¶€ ë¡œì§, ì„¤ì • í†µí•©)
- **ìœ„í—˜ë„**: **MEDIUM** (Cline ì›ë³¸ íŒŒì¼ ìˆ˜ì • í•„ìš”, ì„¤ì • ì‹œìŠ¤í…œ ë³€ê²½)

### **ì‘ì—… ì‹œê°„ ë¶„ë°°**
- **Phase 0 (ì„¤ì • ì‹œìŠ¤í…œ)**: 3-4ì‹œê°„
- **Phase 1-2 (ê¸°ë°˜ êµ¬ì¡°)**: 2-3ì‹œê°„  
- **Phase 3-5 (ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ)**: 4-5ì‹œê°„
- **Phase 6-7 (UI í†µí•©)**: 2-3ì‹œê°„
- **Phase 8 (í…ŒìŠ¤íŠ¸/ê²€ì¦)**: 1-2ì‹œê°„

### **ì£¼ìš” ìœ„í—˜ ìš”ì†Œ**
1. **ChatSettings í™•ì¥**: ê¸°ì¡´ ì„¤ì • ì‹œìŠ¤í…œê³¼ì˜ í˜¸í™˜ì„±
2. **ë¸Œëœë“œë³„ ì¡°ê±´ë¶€ ë¡œì§**: B2B ë¸Œëœë“œ ì„¤ì • ë³µì¡ë„
3. **Cline ì›ë³¸ ìˆ˜ì •**: ìµœì†Œ ì¹¨ìŠµ ì›ì¹™ ì¤€ìˆ˜ ì–´ë ¤ì›€
4. **ë‹¤êµ­ì–´ ë²ˆì—­**: í˜ë¥´ì†Œë‚˜ ì„¤ëª… í˜„ì§€í™” í’ˆì§ˆ

### **ì„±ê³µ ìš”ì¸**
1. **caret-compare ê²€ì¦ëœ ì½”ë“œ**: ì•ˆì •ì„± í™•ë³´
2. **TDD ì ‘ê·¼**: í’ˆì§ˆ ë³´ì¥  
3. **ì ì§„ì  êµ¬í˜„**: ë‹¨ê³„ë³„ ê²€ì¦ ê°€ëŠ¥
4. **ì˜µì…˜ ê¸°ëŠ¥**: ê¸°ì¡´ ì‚¬ìš©ì ì˜í–¥ ìµœì†Œí™”