Cline Rulesを使用すると、Clineにシステムレベルのガイダンスを提供できます。プロジェクトまたはすべての会話に対してグローバルに、コンテキストと設定を永続的に含める方法と考えてください。

## ルールの作成

Rulesタブの`+`ボタンをクリックしてルールを作成できます。これによりIDEで新しいファイルが開き、ルールを記述できます。

<Frame>
	<img src="https://storage.googleapis.com/cline_public_images/docs/assets/cline-rules.png" alt="ルールの作成" />
</Frame>

ファイルを保存すると：

-   ルールはプロジェクトの`.clinerules/`ディレクトリに保存されます（ワークスペースルールの場合）
-   またはGlobal Rulesディレクトリに保存されます（グローバルルールの場合）：

### グローバルルールディレクトリの場所

グローバルルールディレクトリの場所は、オペレーティングシステムによって異なります：

| オペレーティングシステム | デフォルトの場所 | 注意事項 |
|------------------|------------------|-------|
| **Windows** | `Documents\Cline\Rules` | システムのDocumentsフォルダを使用 |
| **macOS** | `~/Documents/Cline/Rules` | ユーザーのDocumentsフォルダを使用 |
| **Linux/WSL** | `~/Documents/Cline/Rules` | 一部のシステムでは`~/Cline/Rules`にフォールバックする場合があります |

> **Linux/WSLユーザーへの注意**: `~/Documents/Cline/Rules`にグローバルルールが見つからない場合は、システム構成とDocumentsディレクトリが存在するかどうかによって場所が異なる可能性があるため、`~/Cline/Rules`を確認してください。

チャットで[`/newrule`スラッシュコマンド](/features/slash-commands/new-rule)を使用してClineにルールを作成してもらうこともできます。

```markdown Clineルール構造の例 [展開可能]
# プロジェクトガイドライン

## ドキュメント要件

-   機能を変更する際は、/docsの関連ドキュメントを更新する
-   README.mdを新機能と同期させる
-   CHANGELOG.mdに変更ログエントリを維持する

## アーキテクチャ決定記録

以下の場合に/docs/adrでADRを作成：

-   主要な依存関係の変更
-   アーキテクチャパターンの変更
-   新しい統合パターン
-   データベーススキーマの変更
    /docs/adr/template.mdのテンプレートに従う

## コードスタイルとパターン

-   OpenAPI GeneratorでAPIクライアントを生成
-   TypeScript axiosテンプレートを使用
-   生成されたコードは/src/generatedに配置
-   継承より合成を優先
-   データアクセスにはリポジトリパターンを使用
-   /src/utils/errors.tsのエラーハンドリングパターンに従う

## テスト標準

-   ビジネスロジックには単体テストが必要
-   APIエンドポイントには統合テスト
-   重要なユーザーフローにはE2Eテスト
```

### 主要な利点

1. **バージョン管理**: `.clinerules`ファイルがプロジェクトのソースコードの一部になります
2. **チームの一貫性**: すべてのチームメンバー間で一貫した動作を保証します
3. **プロジェクト固有**: 各プロジェクトのニーズに合わせたルールと標準
4. **組織的知識**: プロジェクトの標準と慣行をコードで維持します

`.clinerules`ファイルをプロジェクトのルートディレクトリに配置します：

```
your-project/
├── .clinerules
├── src/
├── docs/
└── ...
```

一方、Clineのシステムプロンプトはユーザーが編集できません（[ここで見つけることができます](https://github.com/cline/cline/blob/main/src/core/prompts/system.ts)）。プロンプトエンジニアリングのベストプラクティスについてより広く知りたい場合は、[このリソース](https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/overview)を確認してください。

### 効果的なClineルールを書くためのヒント

-   明確で簡潔に: シンプルな言葉を使い、曖昧さを避ける
-   望む結果に焦点を当てる: 具体的な手順ではなく、求める結果を説明する
-   テストと反復: ワークフローに最適なものを見つけるために実験する

### .clinerules/ フォルダシステム

```
your-project/
├── .clinerules/              # アクティブなルールを含むフォルダ
│   ├── 01-coding.md          # コアコーディング標準
│   ├── 02-documentation.md   # ドキュメント要件
│   └── current-sprint.md     # 現在の作業に固有のルール
├── src/
└── ...
```

Clineは`.clinerules/`ディレクトリ内の**すべてのMarkdownファイル**を自動的に処理し、統一されたルールセットに結合します。数字のプレフィックス（オプション）は、ファイルを論理的な順序で整理するのに役立ちます。

#### ルールバンクの使用

複数のコンテキストやチームがあるプロジェクトでは、ルールバンクディレクトリを維持します：

```
your-project/
├── .clinerules/              # アクティブなルール - 自動的に適用
│   ├── 01-coding.md
│   └── client-a.md
│
├── clinerules-bank/          # 利用可能だが非アクティブなルールのリポジトリ
│   ├── clients/              # クライアント固有のルールセット
│   │   ├── client-a.md
│   │   └── client-b.md
│   ├── frameworks/           # フレームワーク固有のルール
│   │   ├── react.md
│   │   └── vue.md
│   └── project-types/        # プロジェクトタイプの標準
│       ├── api-service.md
│       └── frontend-app.md
└── ...
```

#### フォルダアプローチの利点

1. **コンテキスト依存のアクティベーション**: バンクから関連するルールのみをアクティブフォルダにコピー
2. **保守の簡素化**: 他に影響を与えることなく個別のルールファイルを更新
3. **チームの柔軟性**: チームメンバーが現在のタスクに固有のルールをアクティベート
4. **ノイズの削減**: アクティブなルールセットを集中的かつ関連性の高いものに保つ

#### 使用例

クライアントプロジェクト間の切り替え：

```bash
# クライアントBプロジェクトに切り替え
rm .clinerules/client-a.md
cp clinerules-bank/clients/client-b.md .clinerules/
```

異なる技術スタックへの適応：

```bash
# フロントエンドReactプロジェクト
cp clinerules-bank/frameworks/react.md .clinerules/
```

#### 実装のヒント

-   個別のルールファイルは特定の関心事に焦点を当てる
-   ルールの目的を明確に示す説明的なファイル名を使用
-   `clinerules-bank/`を追跡しながらアクティブな`.clinerules/`フォルダをgit-ignoreすることを検討
-   一般的なルールの組み合わせを迅速にアクティベートするためのチームスクリプトを作成

フォルダシステムは、Clineルールを静的なドキュメントから、チームの変化するコンテキストと要件に適応するダイナミックな知識システムに変換します。

### トグル可能ポップオーバーによるルール管理

単一の`.clinerules`ファイルとフォルダシステムの両方の管理をより簡単にするため、Cline v3.13ではチャットインターフェースから直接アクセスできる専用のポップオーバーUIを導入しています。

チャット入力フィールドの下に便利に配置されたこのポップオーバーでは以下が可能です：

-   **アクティブなルールの即座の確認:** 現在アクティブなグローバルルール（ユーザー設定から）とワークスペースルール（`.clinerules`ファイルまたはフォルダの内容）を表示
-   **ルールの迅速な切り替え:** ワークスペース`.clinerules/`フォルダ内の特定のルールファイルをワンクリックで有効化または無効化。これは、必要な時のみコンテキスト固有のルール（`react-rules.md`や`memory-bank.md`など）をアクティベートするのに最適です。
-   **ルールの簡単な追加/管理:** ワークスペース`.clinerules`ファイルやフォルダが存在しない場合の迅速な作成、または既存のフォルダへの新しいルールファイルの追加

このUIは、会話中にファイルや設定を手動で編集することなく、コンテキストの切り替えと異なる指示セットの管理を大幅に簡素化します。

<Frame>
	<img src="https://storage.googleapis.com/cline_public_images/docs/assets/image%20(1).png" alt="Cline Logo" />
</Frame>
