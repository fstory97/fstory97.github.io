---
title: "生成提交消息"
sidebarTitle: "生成提交消息"
---

Cline 的 Git 集成将 AI 协助直接带入您的版本控制工作流程。无需离开编辑器即可生成提交消息。

## 生成提交消息

最有用的 Git 集成之一是自动生成有意义的提交消息的能力：

<Frame>
	<img
		src="https://storage.googleapis.com/cline_public_images/docs/assets/generate-commit-message-with-cline.png"
		alt="用 Cline 生成提交消息"
	/>
</Frame>

1. 进行更改并将它们暂存到 Git 中
2. 在源代码控制视图中点击机器人图标或运行"用 Cline 生成提交消息"命令
3. Cline 分析您的更改并生成描述性的提交消息
4. 消息会自动插入到提交消息输入框中

生成的提交消息：

-   以简洁的摘要开始（50-72 个字符）
-   使用祈使语气（例如，"Add feature" 而不是 "Added feature"）
-   描述更改了什么以及为什么
-   遵循 Git 最佳实践

此功能节省时间并确保您的提交历史一致且有信息价值。

<Tip>
	有关在聊天消息中使用 `@git-changes` 和 `@[commit-hash]` 引用的信息，请参阅 [Git 引用](/features/at-mentions/git-mentions)文档。
</Tip>

## 工作原理

当您使用 Cline 的提交消息生成功能时，以下是幕后发生的事情：

1. Cline 使用 `getWorkingState()` 检索当前的 Git 差异
2. 它将此差异格式化为针对 AI 的专门提示
3. AI 分析更改并生成适当的提交消息
4. 提取消息并将其插入到 Git 提交消息输入框中

此过程使用您当前的 Cline API 配置，因此生成的消息质量与您选择的 AI 模型相匹配。

## 有效使用技巧

-   **为复杂更改生成提交消息**：AI 擅长将多个相关更改总结为连贯的消息。

-   **审核和编辑生成的消息**：虽然 AI 生成高质量的消息，但始终建议审核并在需要时调整它们。

-   **将相关更改一起暂存**：为获得最佳结果，将相关更改一起暂存，以便 AI 可以生成连贯的消息。

-   **用于保持一致的提交历史**：使用生成提交消息功能有助于在整个提交历史中保持一致的风格。

## 底层工作原理

提交消息生成利用 VSCode 的 Git 扩展 API 来访问存储库信息：

1. 当您触发命令时：
    - Cline 获取当前差异
    - 它将其发送给 AI，并提供提交消息格式化的特定说明
    - 它解析 AI 的响应
    - 它访问 Git 扩展 API 来设置提交消息

与 Git 的这种集成使您能够轻松生成高质量的提交消息，而不会中断您的工作流程。

下次当您在编写好的提交消息时遇到困难，尝试使用 Cline 的提交消息生成功能。您将节省时间并在需要时通过 AI 协助改进您的版本控制工作流程。
