---
title: "代码命令"
sidebarTitle: "代码命令"
---

Cline 的代码命令将 AI 助手直接带入您的编辑器，让您无需离开工作流程就能与代码交互。只需简单的右键单击，您就可以将代码添加到 Cline，通过灯泡菜单，您可以修复错误、获取解释或改进代码。

## 可用的代码命令

当您在编辑器中与代码交互时，您可以通过两种方式访问 Cline 命令：

### 右键上下文菜单

当您右键单击选定的代码时，您会看到：

<Frame>
	<img src="https://storage.googleapis.com/cline_public_images/docs/assets/code-commands.png" alt="右键菜单" />
</Frame>

#### 添加到 Cline

"添加到 Cline" 命令将您选定的代码发送到 Cline 聊天面板。这非常适合：

-   询问特定代码片段的问题
-   请求改进或优化
-   获取复杂逻辑的解释

当您使用此命令时，Cline 会自动包含：

-   文件路径（作为文件引用）
-   格式正确的选定代码
-   用于准确语法高亮的编程语言

### 灯泡菜单（代码操作）

当您在编辑器中看到灯泡图标时，点击它可以访问这些 Cline 命令：

<Frame>
	<img src="https://storage.googleapis.com/cline_public_images/docs/assets/lightbulb-actions.png" alt="灯泡菜单" />
</Frame>

#### 用 Cline 修复

当您的代码有错误或警告时，"用 Cline 修复" 命令会出现在灯泡菜单中。此命令：

1. 捕获选定的代码
2. 从 VSCode 的诊断中识别错误或警告
3. 将两者都发送给 Cline，请求修复问题
4. 提供解决特定问题的方案

这对于快速解决语法错误、代码检查警告或类型问题非常有用，无需手动描述问题。

#### 用 Cline 解释

"用 Cline 解释" 命令帮助您理解复杂的代码。当您选择代码并从灯泡菜单使用此命令时，Cline：

1. 分析选定的代码
2. 提供代码功能的清晰解释
3. 将复杂逻辑分解为易于理解的部分
4. 突出重要的模式或使用的技术

#### 用 Cline 改进

"用 Cline 改进" 命令帮助您增强代码。当您选择代码并从灯泡菜单使用此命令时，Cline：

1. 分析选定的代码以寻找潜在改进
2. 建议优化、重构或更好的实践
3. 解释建议变更背后的原理
4. 提供保持原始功能的改进代码

## 如何使用代码命令

使用 Cline 的代码命令很简单：

### 对于右键命令：

1. 选择您要处理的代码
2. 右键单击打开上下文菜单
3. 选择"添加到 Cline"
4. 在 Cline 聊天面板中查看结果

### 对于灯泡菜单命令：

1. 选择您要处理的代码
2. 寻找出现在编辑器边栏中的灯泡图标
3. 单击灯泡查看可用操作
4. 选择适当的 Cline 命令（修复、解释或改进）
5. 在 Cline 聊天面板中查看结果

使用任何命令后，您可以：

-   提出后续问题
-   请求对解决方案进行修改
-   将更改应用回您的代码

## 底层工作原理

当您使用代码命令时，以下是幕后发生的事情：

1. **代码选择**：扩展捕获您选定的代码及其上下文
2. **元数据收集**：Cline 收集重要的元数据：

    - 文件路径和名称
    - 编程语言
    - 任何关联的诊断信息（错误/警告）
    - 相关的周围代码上下文

3. **命令处理**：

    - 对于"添加到 Cline"，代码被格式化并发送到聊天面板
    - 对于"用 Cline 修复"，代码和诊断信息被分析并生成修复方案
    - 对于"用 Cline 解释"，代码被分析以提供清晰的解释
    - 对于"用 Cline 改进"，代码被分析以寻找潜在的优化和改进

4. **与聊天集成**：结果出现在 Cline 聊天面板中，您可以：
    - 查看 AI 的响应
    - 提出后续问题
    - 应用建议的更改

编辑器和 Cline AI 功能之间的这种无缝集成使您能够在不中断编码流程的情况下轻松获得协助。

## 有效使用技巧

-   **选择完整的逻辑单元**：尽可能选择整个函数、类或模块，为 Cline 提供完整的上下文
-   **包含导入**：对于特定语言的帮助，包含相关导入，以便 Cline 理解依赖关系
-   **与 @ 引用结合**：对于复杂问题，将代码命令与文件或问题引用结合使用以获得更多上下文
-   **使用键盘快捷键**：通过为常见代码命令[分配键盘快捷键](/features/commands-and-shortcuts/keyboard-shortcuts)来加速您的工作流程

下次当您在处理一段代码时遇到困难，尝试使用 Cline 的代码命令，而不是切换到单独的聊天界面。当 AI 助手直接集成到您的编辑器中时，您会惊讶于工作流程变得如此高效。
