---
title: "检查点"
sidebarTitle: "检查点"
---

检查点在任务中的每个步骤后自动保存工作区的快照。此功能让您跟踪更改、在需要时回滚，并自信地试验您的代码。

## 检查点如何工作

Cline 在每次使用工具（文件编辑、命令等）后创建检查点。这些检查点：

-   与您的 Git 工作流程协同工作而不干扰
-   在恢复之间保持上下文
-   使用影子 Git 存储库来跟踪更改

例如，如果您正在开发一个功能，Cline 进行多次文件更改，每次更改都会创建一个检查点。这意味着您可以查看每个修改，如果需要，可以回滚到任何点，而不影响您的主 Git 存储库。

## 查看更改和恢复

在每次使用工具后，您可以：

1. 点击"比较"按钮查看修改的文件
2. 点击"恢复"按钮打开恢复选项

<Frame>
	<img
		src="https://storage.googleapis.com/cline_public_images/docs/assets/image%20(13).png"
		alt="检查点比较和恢复选项"
	/>
</Frame>

## 恢复选项

要恢复到之前的点：

1. 点击任何步骤旁边的"恢复"按钮
2. 从三个选项中选择：
    - **恢复任务和工作区**：将代码库和任务都重置到那个点
    - **仅恢复任务**：保留代码库更改但还原任务上下文
    - **仅恢复工作区**：重置代码库同时保留任务上下文

示例：如果 Cline 在为组件设置样式时做了您不喜欢的更改，您可以使用"仅恢复工作区"来还原代码更改，同时保持对话上下文，让您尝试不同的方法。

<Frame caption="将代码库和任务都恢复到进行任何更改之前以重新开始">
	<img src="https://storage.googleapis.com/cline_public_images/docs/assets/checkpointsDemo.gif" alt="检查点恢复演示" />
</Frame>

## 使用案例

检查点让您可以更大胆地与 Cline 进行实验。虽然人类编程通常是有条不紊和迭代的，但 AI 可以快速进行实质性更改。检查点帮助您跟踪这些更改并在需要时恢复。

### 使用自动批准模式

-   为快速迭代提供安全网
-   便于撤销意外结果

### 测试不同方法

-   自信地尝试多种解决方案
-   比较不同的实现
-   快速恢复到工作状态
-   非常适合探索不同的设计模式或架构方法

## 最佳实践

1. 在实验时将检查点用作安全网
2. 更自信地利用自动批准模式，因为您知道始终可以回滚
3. 根据需要有选择地恢复：
    - 使用"恢复任务和工作区"进行全新开始
    - 使用"仅恢复任务"尝试不同提示，但保留文件更改
    - 使用"仅恢复工作区"尝试不同实现，同时保留对话上下文

## 与消息编辑的关系

当您选择"全部恢复"选项时，[消息编辑功能](/features/editing-messages)在底层使用检查点。这允许您不仅编辑和重新提交消息，还可以将工作区恢复到对话中那个点的状态。

## 删除检查点

您可以通过在任务历史菜单中使用**"删除所有历史记录"**按钮来删除所有检查点。请注意，这也将删除所有任务。检查点存储在 VS Code 的 globalStorage 中。
